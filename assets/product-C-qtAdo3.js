import{g as c,n as a,s as i,a as d,l as s}from"./utils-xO2efT-X.js";import{E as n}from"./ExternalServices-Cs-SxY3_.js";class u{constructor(e,t){this.productId=e,this.product={},this.dataSource=t}async init(){this.product=await this.dataSource.findProductById(this.productId);const e=document.querySelector(".product-detail");this.renderProductDetails(this.product,e),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const e=this.product;let t=c("so-cart")||[];t=Array.isArray(t)?t:[t];const r=t.find(o=>o.Id===e.Id);r?(r.quantity=(r.quantity||1)+1,a(`Quantity updated to ${r.quantity}!`)):(t.push({...e,quantity:1}),a("Added to cart!")),i("so-cart",t)}renderProductDetails(e,t){t.querySelector("h3").textContent=e.Brand.Name,t.querySelector("h2").textContent=e.NameWithoutBrand;const r=t.querySelector("img");r.src=e.Images.PrimaryExtraLarge,r.alt=e.NameWithoutBrand,t.querySelector(".product-card__price").textContent="$"+e.FinalPrice,t.querySelector(".product__color").textContent=e.Colors[0].ColorName,t.querySelector(".product__description").innerHTML=e.DescriptionHtmlSimple,t.querySelector("button").setAttribute("data-id",e.Id)}}const l=new n("tents"),y=d("product"),m=new u(y,l);m.init();s();
